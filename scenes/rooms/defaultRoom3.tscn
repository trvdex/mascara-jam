[gd_scene format=3 uid="uid://b30i51r13cgd1"]

[ext_resource type="ArrayMesh" uid="uid://cytv1l8mh4pm8" path="res://assets/rooms/room_prototype.obj" id="1_04hfa"]
[ext_resource type="Texture2D" uid="uid://lxedl0o72ago" path="res://assets/Textures/Rocks/SLIMROCKS.png" id="2_04hfa"]
[ext_resource type="PackedScene" uid="uid://bjv2v0jx8jd6" path="res://scenes/decorations/torch.tscn" id="3_r2cog"]

[sub_resource type="Shader" id="Shader_0nysg"]
code = "// NOTE: Shader automatically converted from Godot Engine 4.6.stable's StandardMaterial3D.

shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_burley, specular_schlick_ggx;

uniform vec4 albedo : source_color;
uniform sampler2D texture_albedo : source_color, filter_linear_mipmap, repeat_enable;
uniform ivec2 albedo_texture_size;
uniform float point_size : hint_range(0.1, 128.0, 0.1);

uniform float roughness : hint_range(0.0, 1.0);
uniform sampler2D texture_metallic : hint_default_white, filter_linear_mipmap, repeat_enable;
uniform vec4 metallic_texture_channel;
uniform sampler2D texture_roughness : hint_roughness_r, filter_linear_mipmap, repeat_enable;

uniform float specular : hint_range(0.0, 1.0, 0.01);
uniform float metallic : hint_range(0.0, 1.0, 0.01);

uniform vec3 uv1_scale;
uniform vec3 uv1_offset;
uniform vec3 uv2_scale;
uniform vec3 uv2_offset;

void vertex() {
	UV = UV * uv1_scale.xy + uv1_offset.xy;
}

void fragment() {
	vec2 base_uv = UV;

	vec4 albedo_tex = texture(texture_albedo, base_uv);
	ALBEDO = albedo.rgb * albedo_tex.rgb;

	float metallic_tex = dot(texture(texture_metallic, base_uv), metallic_texture_channel);
	METALLIC = metallic_tex * metallic;
	SPECULAR = specular;

	vec4 roughness_texture_channel = vec4(1.0, 0.0, 0.0, 0.0);
	float roughness_tex = dot(texture(texture_roughness, base_uv), roughness_texture_channel);
	ROUGHNESS = roughness_tex * roughness;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0vgc0"]
render_priority = 0
shader = SubResource("Shader_0nysg")
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/texture_albedo = ExtResource("2_04hfa")
shader_parameter/albedo_texture_size = Vector2i(32, 32)
shader_parameter/point_size = 1.0
shader_parameter/roughness = 1.0
shader_parameter/metallic_texture_channel = Vector4(1, 0, 0, 0)
shader_parameter/specular = 0.5
shader_parameter/metallic = 0.0
shader_parameter/uv1_scale = Vector3(20, 70, 32)
shader_parameter/uv1_offset = Vector3(0, 0, 0)
shader_parameter/uv2_scale = Vector3(1, 1, 1)
shader_parameter/uv2_offset = Vector3(0, 0, 0)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_abcp1"]
data = PackedVector3Array(0.75, 2.5, 0, 0.75, 2.5, -0.75, 0, 2.5, 0, 0, 2.5, 0, 0.75, 2.5, -0.75, 0, 2.5, -0.75, 0.75, 2.5, 0, 5, 2.5, -0.75, 0.75, 2.5, -0.75, 5, 2.5, 0, 5, 2.5, -0.75, 0.75, 2.5, 0, 5, 2.5, -0.75, 5, 2.5, -5, 0.75, 2.5, -0.75, 0.75, 2.5, -0.75, 5, 2.5, -5, 0.75, 2.5, -5, 0.75, 2.5, -0.75, 0.75, 2.5, -5, 0, 2.5, -0.75, 0, 2.5, -0.75, 0.75, 2.5, -5, 0, 2.5, -5, 5, 1.875, -0.75, 5, 1.875, -5, 5, 2.5, -0.75, 5, 2.5, -0.75, 5, 1.875, -5, 5, 2.5, -5, 5, 1.875, -0.75, 5, 0, -5, 5, 1.875, -5, 5, 0, -0.75, 5, 0, -5, 5, 1.875, -0.75, 5, 2.5, 0, 5, 1.875, -0.75, 5, 2.5, -0.75, 5, 1.875, 0, 5, 1.875, -0.75, 5, 2.5, 0, 5, 1.875, -5, 0.75, 1.875, -5, 5, 2.5, -5, 5, 2.5, -5, 0.75, 1.875, -5, 0.75, 2.5, -5, 5, 1.875, -5, 0.75, 0, -5, 0.75, 1.875, -5, 5, 0, -5, 0.75, 0, -5, 5, 1.875, -5, 0.75, 1.875, -5, 0, 1.875, -5, 0.75, 2.5, -5, 0.75, 2.5, -5, 0, 1.875, -5, 0, 2.5, -5, 0, 1.875, -5.25, 0, 1.875, -5, 0.75, 1.875, -5.25, 0.75, 1.875, -5.25, 0, 1.875, -5, 0.75, 1.875, -5, -0.75, 1.875, -5.25, 0, 1.875, -5, 0, 1.875, -5.25, -0.75, 1.875, -5, 0, 1.875, -5, -0.75, 1.875, -5.25, 0.75, 1.875, -5.25, 0.75, 1.875, -5, 0.75, 0, -5.25, 0.75, 0, -5.25, 0.75, 1.875, -5, 0.75, 0, -5, 5.25, 1.875, -0.75, 5, 1.875, -0.75, 5.25, 1.875, 0, 5.25, 1.875, 0, 5, 1.875, -0.75, 5, 1.875, 0, 5, 1.875, 0, 5, 1.875, 0.75, 5.25, 1.875, 0, 5.25, 1.875, 0, 5, 1.875, 0.75, 5.25, 1.875, 0.75, 5.25, 0, -0.75, 5, 0, -0.75, 5.25, 1.875, -0.75, 5.25, 1.875, -0.75, 5, 0, -0.75, 5, 1.875, -0.75, 0, 2.5, -0.75, -0.75, 2.5, -0.75, 0, 2.5, 0, 0, 2.5, 0, -0.75, 2.5, -0.75, -0.75, 2.5, 0, 0, 2.5, -0.75, -0.75, 2.5, -5, -0.75, 2.5, -0.75, 0, 2.5, -5, -0.75, 2.5, -5, 0, 2.5, -0.75, -0.75, 2.5, -5, -5, 2.5, -5, -0.75, 2.5, -0.75, -0.75, 2.5, -0.75, -5, 2.5, -5, -5, 2.5, -0.75, -0.75, 2.5, -0.75, -5, 2.5, -0.75, -0.75, 2.5, 0, -0.75, 2.5, 0, -5, 2.5, -0.75, -5, 2.5, 0, -5, 2.5, -5, -5, 1.875, -5, -5, 2.5, -0.75, -5, 2.5, -0.75, -5, 1.875, -5, -5, 1.875, -0.75, -5, 1.875, -5, -5, 0, -5, -5, 1.875, -0.75, -5, 1.875, -0.75, -5, 0, -5, -5, 0, -0.75, -5, 2.5, -0.75, -5, 1.875, -0.75, -5, 2.5, 0, -5, 2.5, 0, -5, 1.875, -0.75, -5, 1.875, 0, -0.75, 2.5, -5, -0.75, 1.875, -5, -5, 2.5, -5, -5, 2.5, -5, -0.75, 1.875, -5, -5, 1.875, -5, -0.75, 2.5, -5, 0, 1.875, -5, -0.75, 1.875, -5, 0, 2.5, -5, 0, 1.875, -5, -0.75, 2.5, -5, -0.75, 1.875, -5, -0.75, 0, -5, -5, 1.875, -5, -5, 1.875, -5, -0.75, 0, -5, -5, 0, -5, -0.75, 0, -5, -0.75, 1.875, -5, -0.75, 0, -5.25, -0.75, 0, -5.25, -0.75, 1.875, -5, -0.75, 1.875, -5.25, -5, 1.875, 0, -5, 1.875, -0.75, -5.25, 1.875, 0, -5.25, 1.875, 0, -5, 1.875, -0.75, -5.25, 1.875, -0.75, -5.25, 1.875, 0, -5, 1.875, 0.75, -5, 1.875, 0, -5.25, 1.875, 0.75, -5, 1.875, 0.75, -5.25, 1.875, 0, -5, 1.875, -0.75, -5, 0, -0.75, -5.25, 1.875, -0.75, -5.25, 1.875, -0.75, -5, 0, -0.75, -5.25, 0, -0.75, 0, 2.5, 0.75, 0.75, 2.5, 0.75, 0, 2.5, 0, 0, 2.5, 0, 0.75, 2.5, 0.75, 0.75, 2.5, 0, 0, 2.5, 0.75, 0.75, 2.5, 5, 0.75, 2.5, 0.75, 0, 2.5, 5, 0.75, 2.5, 5, 0, 2.5, 0.75, 0.75, 2.5, 5, 5, 2.5, 5, 0.75, 2.5, 0.75, 0.75, 2.5, 0.75, 5, 2.5, 5, 5, 2.5, 0.75, 0.75, 2.5, 0.75, 5, 2.5, 0.75, 0.75, 2.5, 0, 0.75, 2.5, 0, 5, 2.5, 0.75, 5, 2.5, 0, 5, 2.5, 5, 5, 1.875, 5, 5, 2.5, 0.75, 5, 2.5, 0.75, 5, 1.875, 5, 5, 1.875, 0.75, 5, 1.875, 5, 5, 0, 5, 5, 1.875, 0.75, 5, 1.875, 0.75, 5, 0, 5, 5, 0, 0.75, 5, 2.5, 0.75, 5, 1.875, 0.75, 5, 2.5, 0, 5, 2.5, 0, 5, 1.875, 0.75, 5, 1.875, 0, 0.75, 2.5, 5, 0.75, 1.875, 5, 5, 2.5, 5, 5, 2.5, 5, 0.75, 1.875, 5, 5, 1.875, 5, 0.75, 2.5, 5, 0, 1.875, 5, 0.75, 1.875, 5, 0, 2.5, 5, 0, 1.875, 5, 0.75, 2.5, 5, 0.75, 1.875, 5, 0.75, 0, 5, 5, 1.875, 5, 5, 1.875, 5, 0.75, 0, 5, 5, 0, 5, 0.75, 1.875, 5, 0, 1.875, 5, 0.75, 1.875, 5.25, 0.75, 1.875, 5.25, 0, 1.875, 5, 0, 1.875, 5.25, 0, 1.875, 5.25, 0, 1.875, 5, -0.75, 1.875, 5.25, -0.75, 1.875, 5.25, 0, 1.875, 5, -0.75, 1.875, 5, 0.75, 0, 5, 0.75, 1.875, 5, 0.75, 0, 5.25, 0.75, 0, 5.25, 0.75, 1.875, 5, 0.75, 1.875, 5.25, 5, 1.875, 0.75, 5, 0, 0.75, 5.25, 1.875, 0.75, 5.25, 1.875, 0.75, 5, 0, 0.75, 5.25, 0, 0.75, -0.75, 2.5, 0, -0.75, 2.5, 0.75, 0, 2.5, 0, 0, 2.5, 0, -0.75, 2.5, 0.75, 0, 2.5, 0.75, -0.75, 2.5, 0, -5, 2.5, 0.75, -0.75, 2.5, 0.75, -5, 2.5, 0, -5, 2.5, 0.75, -0.75, 2.5, 0, -5, 2.5, 0.75, -5, 2.5, 5, -0.75, 2.5, 0.75, -0.75, 2.5, 0.75, -5, 2.5, 5, -0.75, 2.5, 5, -0.75, 2.5, 0.75, -0.75, 2.5, 5, 0, 2.5, 0.75, 0, 2.5, 0.75, -0.75, 2.5, 5, 0, 2.5, 5, -5, 1.875, 0.75, -5, 1.875, 5, -5, 2.5, 0.75, -5, 2.5, 0.75, -5, 1.875, 5, -5, 2.5, 5, -5, 1.875, 0.75, -5, 0, 5, -5, 1.875, 5, -5, 0, 0.75, -5, 0, 5, -5, 1.875, 0.75, -5, 2.5, 0, -5, 1.875, 0.75, -5, 2.5, 0.75, -5, 1.875, 0, -5, 1.875, 0.75, -5, 2.5, 0, -5, 1.875, 5, -0.75, 1.875, 5, -5, 2.5, 5, -5, 2.5, 5, -0.75, 1.875, 5, -0.75, 2.5, 5, -5, 1.875, 5, -0.75, 0, 5, -0.75, 1.875, 5, -5, 0, 5, -0.75, 0, 5, -5, 1.875, 5, -0.75, 1.875, 5, 0, 1.875, 5, -0.75, 2.5, 5, -0.75, 2.5, 5, 0, 1.875, 5, 0, 2.5, 5, -0.75, 1.875, 5.25, -0.75, 1.875, 5, -0.75, 0, 5.25, -0.75, 0, 5.25, -0.75, 1.875, 5, -0.75, 0, 5, -5.25, 0, 0.75, -5, 0, 0.75, -5.25, 1.875, 0.75, -5.25, 1.875, 0.75, -5, 0, 0.75, -5, 1.875, 0.75, 0.7499, 0, -0.0001, 0.7499, 0, -0.75009996, 4.9999, 0, -0.0001, -0.0001, 0, -0.0001, -0.0001, 0, -0.75009996, 0.7499, 0, -0.0001, 0.7499, 0, -0.0001, -0.0001, 0, -0.75009996, 0.7499, 0, -0.75009996, -0.0001, 0, -0.75009996, -0.0001, 0, -5.0000997, 0.7499, 0, -0.75009996, 4.9999, 0, -0.0001, 0.7499, 0, -0.75009996, 4.9999, 0, -0.75009996, 5.25, 0, -0.75009996, 4.9999, 0, -0.0001, 4.9999, 0, -0.75009996, 5.25, 0, -0.0001, 4.9999, 0, -0.0001, 5.25, 0, -0.75009996, 5.25, 0, 0.7499, 4.9999, 0, -0.0001, 5.25, 0, -0.0001, 4.9999, 0, 0.7499, 4.9999, 0, -0.0001, 5.25, 0, 0.7499, 0.7499, 0, -0.75009996, 0.7499, 0, -5.0000997, 4.9999, 0, -0.75009996, 0.7499, 0, -0.75009996, -0.0001, 0, -5.0000997, 0.7499, 0, -5.0000997, 4.9999, 0, -0.75009996, 0.7499, 0, -5.0000997, 4.9999, 0, -5.0000997, -0.0001, 0, -5.25, 0.7499, 0, -5.0000997, -0.0001, 0, -5.0000997, 0.7499, 0, -5.25, 0.7499, 0, -5.0000997, -0.0001, 0, -5.25, -0.0001, 0, -5.0000997, -0.75009996, 0, -5.0000997, -0.0001, 0, -5.25, -0.0001, 0, -5.25, -0.75009996, 0, -5.0000997, -0.75009996, 0, -5.25, -5.0000997, 0, -0.75009996, -0.75009996, 0, -0.75009996, -5.0000997, 0, -0.0001, -5.0000997, 0, -0.75009996, -5.0000997, 0, -0.0001, -5.25, 0, -0.75009996, -5.25, 0, -0.75009996, -5.0000997, 0, -0.0001, -5.25, 0, -0.0001, -5.25, 0, -0.0001, -5.0000997, 0, -0.0001, -5.25, 0, 0.7499, -5.25, 0, 0.7499, -5.0000997, 0, -0.0001, -5.0000997, 0, 0.7499, -5.0000997, 0, -0.0001, -0.75009996, 0, -0.75009996, -0.75009996, 0, -0.0001, -5.0000997, 0, -0.75009996, -0.75009996, 0, -5.0000997, -0.75009996, 0, -0.75009996, -5.0000997, 0, -5.0000997, -0.75009996, 0, -5.0000997, -5.0000997, 0, -0.75009996, -0.75009996, 0, -5.0000997, -0.0001, 0, -5.0000997, -0.75009996, 0, -0.75009996, -0.75009996, 0, -0.75009996, -0.0001, 0, -5.0000997, -0.0001, 0, -0.75009996, -0.75009996, 0, -0.75009996, -0.0001, 0, -0.75009996, -0.75009996, 0, -0.0001, -0.75009996, 0, -0.0001, -0.0001, 0, -0.75009996, -0.0001, 0, -0.0001, 4.9999, 0, 0.7499, 0.7499, 0, 0.7499, 4.9999, 0, -0.0001, 4.9999, 0, -0.0001, 0.7499, 0, 0.7499, 0.7499, 0, -0.0001, 0.7499, 0, 0.7499, -0.0001, 0, 0.7499, 0.7499, 0, -0.0001, 0.7499, 0, -0.0001, -0.0001, 0, 0.7499, -0.0001, 0, -0.0001, 0.7499, 0, 0.7499, -0.0001, 0, 4.9999, -0.0001, 0, 0.7499, 4.9999, 0, 0.7499, 0.7499, 0, 4.9999, 0.7499, 0, 0.7499, 0.7499, 0, 4.9999, -0.0001, 0, 4.9999, 0.7499, 0, 0.7499, 4.9999, 0, 4.9999, 0.7499, 0, 4.9999, 4.9999, 0, 0.7499, -0.0001, 0, 4.9999, 0.7499, 0, 4.9999, -0.0001, 0, 5.25, -0.0001, 0, 5.25, 0.7499, 0, 4.9999, 0.7499, 0, 5.25, -0.0001, 0, 5.25, -0.75009996, 0, 4.9999, -0.0001, 0, 4.9999, -0.75009996, 0, 5.25, -0.75009996, 0, 4.9999, -0.0001, 0, 5.25, -0.75009996, 0, -0.0001, -0.75009996, 0, 0.7499, -5.0000997, 0, -0.0001, -5.0000997, 0, -0.0001, -0.75009996, 0, 0.7499, -5.0000997, 0, 0.7499, -0.75009996, 0, -0.0001, -0.0001, 0, 0.7499, -0.75009996, 0, 0.7499, -0.0001, 0, -0.0001, -0.0001, 0, 0.7499, -0.75009996, 0, -0.0001, -0.0001, 0, 0.7499, -0.0001, 0, 4.9999, -0.75009996, 0, 0.7499, -0.75009996, 0, 0.7499, -0.0001, 0, 4.9999, -0.75009996, 0, 4.9999, -0.75009996, 0, 0.7499, -0.75009996, 0, 4.9999, -5.0000997, 0, 0.7499, -5.0000997, 0, 0.7499, -0.75009996, 0, 4.9999, -5.0000997, 0, 4.9999)

[node name="StaticBody3D" type="StaticBody3D" unique_id=1073513456]
collision_layer = 2

[node name="RoomPrototype" type="MeshInstance3D" parent="." unique_id=1223698703]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.501, 0)
layers = 2
mesh = ExtResource("1_04hfa")
surface_material_override/0 = SubResource("ShaderMaterial_0vgc0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=607453105]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.501, 0)
shape = SubResource("ConcavePolygonShape3D_abcp1")

[node name="Torch" parent="." unique_id=502406046 instance=ExtResource("3_r2cog")]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 4.1560717, 1.920345, -4.8708797)

[node name="Torch2" parent="." unique_id=1131481310 instance=ExtResource("3_r2cog")]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, -4.718537, 1.920345, -4.8708797)

[node name="Torch3" parent="." unique_id=788544730 instance=ExtResource("3_r2cog")]
transform = Transform3D(-0.4, 0, -3.4969112e-08, 0, 0.4, 0, 3.4969112e-08, 0, -0.4, 4.1560717, 1.920345, 4.8694825)

[node name="Torch4" parent="." unique_id=2085631253 instance=ExtResource("3_r2cog")]
transform = Transform3D(-0.4, 0, -3.4969112e-08, 0, 0.4, 0, 3.4969112e-08, 0, -0.4, -4.475712, 1.920345, 4.8694825)
